23.05.2019
==========

1) harmonise standards for control printouts
    -- introduce sterring arg.DEBUG (?)
    -- used "print" "write", "msg service"

2) plotting scripts better configurable
   for directories of input/output
   automatize
   DONE: partially, fine for a moment

3) understand code+formulas for loss function in case of "soft"

4) multi-class --> two class
   can we quantify better differences/similarities of performance
   which approach does what?

5) oracle-predictions for multi-class, how to define

6) better statistical quantification for multi-class performance 


29.05.2019
==========

1) Added a1rho and a1a1 channels, but not yet configured well.
   Have to introduce redundant cpmix_utils.py download_data.py
   because file names are not configurable.
   DONE: use suffix from args.TYPE

2) Problem with
     -- a1rho: Variant-2.0, Variant-2.1  >  nan from loss function
     -- a1a1: still cannot configure loading data

3) I would like to have more structured project:
      HiggsCP/main.py
      HiggsCP/src_scripts/xxx.py
      HiggsCP/anal_scripts/yyy.py
      
   how to tell in python directory where the source is?
   
   DONE: utworzyc pusty  plik __init__.py w podkartotece src_scripts
         import src_scripts.xxx.py

4) not clear why it is not working

   python main.py -e 5 -t nn_a1rho -i A1RHO_DATA -f Variant-4.1 --num_classes 2

   environmental variable $A1RHO_DATA is fine, still cannot find data, should not
   be trying to donwload them. Looks that args.IN is not propagated correctly by the
   os system. Is not understanding that should use $A1RHO_DATA and not A1RHO_DATA

   DONE: use "-i $A1RHO_DATA"

5) add rafjoz@gmail.com  for pull/push rights into erichter branches
   DONE

6) clean up for calculating features of Variant-2X and Variant-3X families if not used,
   clean up also for: "RuntimeWarning: invalid value encountered in sqrt"

7) for plotting metrics (anal_scripts), horizontal axes do not represent number of classes,
   but the stacking count. How to convert?
   DONE


30.05.2019
==========

1) How in the script
       ploting_scripts/plot_softmax_rhorho.py
       
   correct calculation of delta
   delt_argmax = np.argmax(calc_w[:], axis=1) - np.argmax(preds_w[:], axis=1)
   taking into account periodicity of phiCP
   
   Increase in tails should dissapear, and RMS would improve
   Instead of (mean, RMS), can we fit Gauss distribution?

2) How in the script 
       anal_scripts/anal_rhorho_Variant_All_class_num.py
       
   correct calculation of mean delta in the metric
   taking into account periodicity of phiCP


31.05.2019
==========

1) Move to run on prometheus + increase runs to 25 epochs

2) What about restricting range to [0, pi], would it help? confuse performance?

3) Looking more into tf_model:

    -->  Predicted weights are normalised to probability and calculated no!!!!
         Important correction to calculating metric!!!

    -->  Total_train is returning "train_accs", "valid_accs"
         we do nothing with it? Not used? not stored?

    -->  Loss value not monitored for further tests, could be stored as .npy?
         is it normalised to the number of classes?

    -->  Why saving: softmax_calc_w.npy, softmax_preds_w.npy
         inside the loop "for i in range(epochs)"
	 aren't we interested in the last iteration?

4) Problem affecting performance metrices:
      "p" in normalised t unity, weights are not
       should be cleaned in few places consistently
       normalise weights at initialisation?

5) Store in .npy format quantities for monitoring nn learning,
   so we can confirm  choices for nn architecture to avoid overfitting.
   Add scripts monitoring learning process, like in the past publications.

6) Stacking metrics is a good idea, see anal_scripts

    metrics_Variant_1_1 = np.stack(metrics_Variant_1_1)

   but what to do if number of classes is not uniformly ditributed,
   i.e. only few are simulated like: 2, 4, 10, 25, 50, 100

7) Final performance should be evaluated on test data.
   Evaluation performed on the model on which valid_accs is maximal.
   DONE
